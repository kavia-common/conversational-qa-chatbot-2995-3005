{"is_source_file": true, "format": "Python", "description": "This file implements a simple in-memory session storage system for a chatbot or conversational assistant. It defines a data class for session data and a session store class with methods to create, retrieve, update, and delete sessions and their messages, supporting singleton pattern and pagination.", "external_files": [], "external_methods": ["datetime.now", "uuid.uuid4"], "published": ["SessionStore", "get_instance"], "classes": [{"name": "_Session", "description": "Data class representing a single user session with session ID, title, timestamps, and messages."}, {"name": "SessionStore", "description": "Singleton class managing all sessions and their messages in-memory, providing CRUD operations and message management."}], "methods": [{"name": "\"SessionStore\" get_instance(cls)", "description": "Returns the singleton instance of SessionStore.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "Dict create_session(self, title: Optional[str] = None)", "description": "Creates a new session with an optional title and stores it.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "Optional[Dict] get_session(self, session_id: str)", "description": "Retrieves a session by its ID.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "List[Dict] list_sessions(self, skip: int = 0, limit: int = 50)", "description": "Lists all sessions with optional pagination.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "bool delete_session(self, session_id: str)", "description": "Deletes a session by its ID.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "Dict add_message(self, session_id: str, role: str, content: str)", "description": "Adds a message to a specific session, updating timestamps.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "List[Dict] get_messages(self, session_id: str)", "description": "Retrieves all messages from a specific session.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "int get_message_count(self, session_id: str)", "description": "Returns the number of messages in a session.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "Dict _to_public(self, s: _Session)", "description": "Converts internal session data into a public dictionary representation.", "scope": "SessionStore", "scopeKind": "class"}, {"name": "__init__(self)", "scope": "SessionStore", "scopeKind": "class", "description": "unavailable"}], "calls": ["datetime.now", "uuid.uuid4", "self._to_public", "list", "len"], "search-terms": ["SessionStore", "in-memory session management", "singleton pattern", "UUID", "session messages", "create_session", "get_session", "delete_session"], "state": 2, "file_id": 11, "knowledge_revision": 24, "git_revision": "", "ctags": [{"_type": "tag", "name": "SessionStore", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^class SessionStore:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_Session", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^class _Session:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    _instance: Optional[\"SessionStore\"] = None$/", "language": "Python", "typeref": "typename:Optional[\"SessionStore\"]", "kind": "variable", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "_to_public", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def _to_public(self, s: _Session) -> Dict:$/", "language": "Python", "typeref": "typename:Dict", "kind": "member", "signature": "(self, s: _Session)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "add_message", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def add_message(self, session_id: str, role: str, content: str) -> Dict:$/", "language": "Python", "typeref": "typename:Dict", "kind": "member", "signature": "(self, session_id: str, role: str, content: str)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "create_session", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def create_session(self, title: Optional[str] = None) -> Dict:$/", "language": "Python", "typeref": "typename:Dict", "kind": "member", "signature": "(self, title: Optional[str] = None)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "delete_session", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def delete_session(self, session_id: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, session_id: str)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_instance", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def get_instance(cls) -> \"SessionStore\":$/", "language": "Python", "typeref": "typename:\"SessionStore\"", "kind": "member", "signature": "(cls)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_message_count", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def get_message_count(self, session_id: str) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "member", "signature": "(self, session_id: str)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_messages", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def get_messages(self, session_id: str) -> List[Dict]:$/", "language": "Python", "typeref": "typename:List[Dict]", "kind": "member", "signature": "(self, session_id: str)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_session", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def get_session(self, session_id: str) -> Optional[Dict]:$/", "language": "Python", "typeref": "typename:Optional[Dict]", "kind": "member", "signature": "(self, session_id: str)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "list_sessions", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    def list_sessions(self, skip: int = 0, limit: int = 50) -> List[Dict]:$/", "language": "Python", "typeref": "typename:List[Dict]", "kind": "member", "signature": "(self, skip: int = 0, limit: int = 50)", "scope": "SessionStore", "scopeKind": "class"}, {"_type": "tag", "name": "messages", "path": "/home/kavia/workspace/code-generation/conversational-qa-chatbot-2995-3005/q_a_backend/src/services/session_store.py", "pattern": "/^    messages: List[Dict] = field(default_factory=list)$/", "language": "Python", "typeref": "typename:List[Dict]", "kind": "variable", "scope": "_Session", "scopeKind": "class"}], "hash": "50a624cc569d6b01d4bf407c13f60ba9", "format-version": 4, "code-base-name": "q_a_backend", "filename": "q_a_backend/src/services/session_store.py", "fields": [{"name": "Optional[\"SessionStore\"] _instance", "scope": "SessionStore", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Dict] messages", "scope": "_Session", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"24": ""}]}